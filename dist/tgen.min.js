/*! For license information please see tgen.min.js.LICENSE.txt */
(()=>{var e={9377:e=>{e.exports=function(e){e.effect("checkerboard",{seed:null,blend:e.blendFlat,rgba:"randomalpha",even:"random",size:[[2,32],[2,32]]},(function(e,t){t.even=e.randItemByArraySeed(t.even,[!0,!1]);var r,n,a=e.texture.width,i=e.texture.height;"number"==typeof t.size?r=n=t.size:(r=t.size[0]=e.randByArraySeed(t.size[0],null,!0),n=t.size[1]=e.randByArraySeed(t.size[1],null,!0));for(var o=a/r,s=i/n,u=function(t,r){for(var n=0;n<o;n++)for(var u=0;u<s;u++)n+t<a&&u+r<i&&e.point.set(n+t,u+r)},c=0;c<r;c++)if(c%2==0)for(var l=0;l<n;l++)u(l%2==0?c*o:c*o+o,l*s);return t}))}},5405:e=>{e.exports=function(e){e.effect("circles",{seed:null,blend:e.blendFlat,rgba:"randomalpha",origin:"random",count:[1,42],size:[[1,42],[1,42]]},(function(e,t){t.size[0]=e.randByArraySeed(t.size[0],!1),t.size[1]=e.randByArraySeed(t.size[1],!1);for(var r=0;r<t.count;r++){var n=e.xysize(r,t);e.shape.circle(e,e.percentX(n.x),e.percentY(n.y),e.percentXY(n.size),!0)}return t}))}},2261:e=>{e.exports=function(e){e.effect("clouds",{seed:null,blend:e.blendSafe,rgba:"randomalpha",roughness:[1,32],colormap:null},(function(e,t){t.roughness=e.randByArraySeed(t.roughness);var r=e.texture.width,n=e.texture.height,a=[],i=function(e,t,i){return e=Math.round(e),t=Math.round(t),e<0&&(e=r+e),e>=r&&(e-=r),t<0&&(t=n+t),t>=n&&(t-=n),void 0!==i&&(a[e][t]=i),a[e][t]},o=function(n){return(e.randRealSeed(0,1)-.5)*(n/(r+r)*t.roughness)};!function(){for(var e=0;e<=r;e++){a[e]=[];for(var t=0;t<=n;t++)a[e][t]=0}}(),function a(s){var u=s/2;if(u<=1)return t;for(var c=0;c<=r+u;c+=u)for(var l=0;l<=n+u;l+=u){var d=i(c-u,l-u),f=i(c,l-u),h=i(c-u,l),p=i(c,l),y=c-u/2,g=l-u/2,m=i(y,g,e.calc.normalize1((d+f+h+p)/4+o(s))),b=c-s+u/2;i(c-u,g,e.calc.normalize1((d+h+m+i(b,g))/4+o(s)));var v=l-s+u/2;i(y,l-u,e.calc.normalize1((d+f+m+i(y,v))/4+o(s)))}a(u)}(r),e.colormap.init(t.colormap,255,(function(e){t.colormap=e}));for(var s=0;s<r;s++)for(var u=0;u<n;u++){var c=parseInt(255*a[s][u],10);null!==e.colormap.data?e.point.rgba=e.colormap.get(c,t.rgba):e.point.rgba=e.point.colorize(t.rgba,[c,c,c,255]),e.point.set(s,u)}return t}))}},4283:e=>{e.exports=function(e){e.effect("colorbar",{seed:null,type:"random",colormap:"random",mirror:!0},(function(e,t){t.type=e.randItemByArraySeed(t.type,["vertical","horizontal"]);var r,n,a,i=e.texture.width,o=e.texture.height,s="horizontal"==t.type?i:o;if(e.colormap.init(t.colormap,s,(function(e){t.colormap=e})),"horizontal"==t.type)for(r=0;r<i;r++)for(t.mirror?(a=r<i/2?2*r:2*i-2*r,e.point.rgba=e.colormap.get(a)):e.point.rgba=e.colormap.get(r),n=0;n<o;n++)e.point.set(r,n);else for(n=0;n<o;n++)for(t.mirror?(a=n<o/2?2*n:2*o-2*n,e.point.rgba=e.colormap.get(a)):e.point.rgba=e.colormap.get(n),r=0;r<i;r++)e.point.set(r,n);return t}))}},7891:e=>{e.exports=function(e){e.effect("crosshatch",{seed:null,blend:e.blendSafe,rgba:"randomalpha",level:[1,100],xadjust:"random",yadjust:"random"},(function(e,t){t.xadjust=e.randRealByArraySeed(t.xadjust,[.1,121]),t.yadjust=e.randRealByArraySeed(t.yadjust,[.1,121]);for(var r=0;r<e.texture.width;r++)for(var n=0;n<e.texture.height;n++){var a=127+63.5*Math.sin(r*r/t.xadjust)+63.5*Math.cos(n*n/t.yadjust);e.point.rgba=e.point.colorize([a,a,a,255],t.rgba,t.level),e.point.set(r,n)}return t}))}},8988:e=>{e.exports=function(e){e.effect("dots",{seed:null,blend:"opacity",gridX:[2,64],gridY:[2,64],size:[1,250],rgba:"randomalpha",shape:"sphere",dynamic:!0,xsines:[1,16],ysines:[1,16]},(function(e,t){t.gridX=e.randByArraySeed(t.gridX),t.gridY=e.randByArraySeed(t.gridY),t.xsines=e.randIntByArraySeed(t.xsines,[1,16]),t.ysines=e.randIntByArraySeed(t.ysines,[1,16]),t.shape=e.randItemByArraySeed(t.shape,["sphere","pyramid","rect","circle"]);for(var r=e.randByArraySeed(t.size)/100,n=e.texture.width,a=e.texture.height,i=n/t.gridX,o=a/t.gridY,s=i/2,u=o/2,c=1;c<=t.gridX;c++)for(var l=1;l<=t.gridY;l++){var d=r*(i+o)/2/2,f=d-d/2*Math.sin(c/t.gridX*t.xsines*2*e.calc.pi)+d/2*Math.sin(l/t.gridY*t.ysines*2*e.calc.pi);switch(t.shape){case"sphere":e.shape.sphere(e,c*i-s,l*o-u,2*f,!0,t.rgba,t.dynamic);break;case"pyramid":e.shape.pyramid(e,c*i-s,l*o-u,f,f,!0,t.rgba,t.dynamic);break;case"rect":e.shape.rect(e,c*i-s,l*o-u,f,f,!0,t.rgba,t.dynamic);break;default:f/=2,e.shape.circle(e,c*i-s,l*o-u,f,!0)}}return t}))}},2855:e=>{e.exports=function(e){e.effect("fill",{seed:null,blend:"opacity",rgba:"randomalpha"},(function(e,t){return e.shape.rect(e,1,1,e.texture.width,e.texture.height),t}))}},743:e=>{e.exports=function(e){e.effect("mandelbrot",{seed:null,blend:"opacity",rgba:"randomalpha",iteration:[8,512],skip:[0,8]},(function(e,t){t.skip=e.randByArraySeed(t.skip),t.iteration=e.randByArraySeed(t.iteration);for(var r=e.texture.width,n=e.texture.height,a=t.rgba[0],i=t.rgba[1],o=t.rgba[2],s=256/a,u=256/i,c=256/o,l=t.iteration,d=0,f=0,h=0,p=0,y=0,g=0,m=0;m<n;m++){f=3*m/n-1.5;for(var b=0;b<r;b++){h=d=3*b/r-2,p=f;for(var v=0;v<l&&!((y=h*h)+(g=p*p)>4);v++)p=2*h*p+f,h=y-g+d;v>t.skip&&(e.point.rgba=[v%a*s,v%i*u,v%o*c,e.point.rgba[3]],e.point.set(b,m))}}return t}))}},5265:(e,t,r)=>{e.exports=function(e){r(9377)(e),r(5405)(e),r(2261)(e),r(4283)(e),r(7891)(e),r(8988)(e),r(2855)(e),r(743)(e),r(1800)(e),r(4191)(e),r(8375)(e),r(8806)(e),r(9240)(e),r(7301)(e),r(6191)(e),r(2163)(e),r(6444)(e),r(5800)(e)}},1800:e=>{e.exports=function(e){e.effect("lines",{seed:null,blend:e.blendFlat,rgba:"randomalpha",size:[77,221],count:[21,512],freq1s:[4,221],freq1c:[4,221],freq2s:[4,221],freq2c:[4,221]},(function(e,t){t.freq1s=e.randByArraySeed(t.freq1s,!0),t.freq1c=e.randByArraySeed(t.freq1c,!0),t.freq2s=e.randByArraySeed(t.freq2s,!0),t.freq2c=e.randByArraySeed(t.freq2c,!0),t.size=e.randByArraySeed(t.size);for(var r=0;r<t.count;r++){var n=e.texture.width/2+Math.sin(r/t.freq1s*e.calc.pi)*t.size,a=e.texture.height/2+Math.cos(r/t.freq1c*e.calc.pi)*t.size,i=e.texture.width/2+Math.sin(r/t.freq2s*e.calc.pi)*t.size,o=e.texture.height/2+Math.cos(r/t.freq2c*e.calc.pi)*t.size;e.shape.line(e,n,a,i,o)}return t}))}},4191:e=>{e.exports=function(e){e.effect("lines2",{seed:null,blend:e.blendFlat,rgba:"randomalpha",type:"random",size:[.1,21],count:[1,42]},(function(e,t){var r,n,a;for(t.type=e.randItemByArraySeed(t.type,["vertical","horizontal"]),a=0;a<t.count;a++)r=e.randByArraySeed(t.size,!0),n=e.randRealSeed(.1,100),"vertical"==t.type?e.shape.rect(e,e.percentX(n),0,e.percentX(r),e.texture.height):e.shape.rect(e,0,e.percentX(n),e.texture.width,e.percentX(r));return t}))}},8375:e=>{e.exports=function(e){e.effect("lines3",{seed:null,type:null,blend:"opacity",colormap:"random",fadeinout:1,step:[1,2,4,8,16,32,64],size:[7,210],waves:[1,21],amplitude:[0,42],weight:[1,32]},(function(e,t){var r,n,a,i;if(t.type=e.randItemByArraySeed(t.type,["vertical","horizontal"]),t.fadeinout=e.randIntByArraySeed(null,t.fadeinout),t.size=e.randByArraySeed(t.size),t.amplitude=e.randByArraySeed(t.amplitude),t.waves=e.randIntByArraySeed(t.waves),t.step=e.randItemByArraySeed(null,t.step),t.weight=e.randIntByArraySeed(t.weight),e.colormap.init(t.colormap,t.size,(function(e){t.colormap=e})),"horizontal"===t.type)for(var o=0;o<e.texture.height;o+=t.step)n=(r=Math.sin(o/e.texture.width*t.waves*e.calc.pi)*e.texture.width*(t.amplitude/100))+e.texture.width*(t.size/100),e.shape.colorLine(e,r,o,n,o,e.colormap.data,t.weight,t.fadeinout);else for(var s=0;s<e.texture.width;s+=t.step)i=(a=Math.sin(s/e.texture.height*t.waves*e.calc.pi)*e.texture.width*(t.amplitude/100))+e.texture.height*(t.size/100),e.shape.colorLine(e,s,a,s,i,e.colormap.data,t.weight,t.fadeinout);return console.log(t),t}))}},8806:e=>{e.exports=function(e){e.effect("noise",{seed:null,blend:"lighten",mode:"monochrome",channels:[255,255,255],opacity:128},(function(e,t){switch(t.mode){case"color":e.walk((function(r){return[t.channels[0]?e.randIntSeed(0,t.channels[0]):0,t.channels[1]?e.randIntSeed(0,t.channels[1]):0,t.channels[2]?e.randIntSeed(0,t.channels[2]):0,t.opacity]}));break;case"monochrome":e.walk((function(r){var n=e.randIntSeed(0,255);return[n,n,n,t.opacity]}));break;case"colorize":e.walk((function(r){var n=e.randIntSeed(0,255);return e.point.colorize([n,n,n,t.opacity],t.rgba)}))}return t}))}},9240:e=>{e.exports=function(e){e.effect("pyramids",{seed:null,blend:e.blendSafe,rgba:"randomalpha",origin:"random",dynamic:"random",count:[1,77],size:[[1,92],[1,92]]},(function(e,t){t.dynamic=e.randItemByArraySeed(t.dynamic,[!0,!1]),t.size[0]=e.randByArraySeed(t.size[0],!1),t.size[1]=e.randByArraySeed(t.size[1],!1);for(var r=0;r<t.count;r++){var n=e.xysize(r,t);e.shape.pyramid(e,e.percentX(n.x),e.percentY(n.y),e.percentXY(n.size),e.percentXY(n.size),!0,t.rgba,t.dynamic)}return t}))}},7301:e=>{e.exports=function(e){e.effect("spheres",{seed:null,blend:e.blendFlat,rgba:e.randomRGBA,origin:"random",dynamic:!0,count:[1,77],size:[[1,92],[1,92]]},(function(e,t){t.dynamic=e.randItemByArraySeed(t.dynamic,[!0,!1]),t.size[0]=e.randByArraySeed(t.size[0],!1),t.size[1]=e.randByArraySeed(t.size[1],!1);for(var r=0;r<t.count;r++){var n=e.xysize(r,t);e.shape.sphere(e,e.percentX(n.x),e.percentY(n.y),e.percentXY(n.size),!0,t.rgba,t.dynamic)}return t}))}},6191:e=>{e.exports=function(e){e.effect("squares",{seed:null,blend:e.blendFlat,rgba:"randomalpha",origin:"random",count:[1,42],size:[[1,77],[1,77]]},(function(e,t){t.size[0]=e.randByArraySeed(t.size[0],!1),t.size[1]=e.randByArraySeed(t.size[1],!1);for(var r=0;r<t.count;r++){var n=e.xysize(r,t);e.shape.rect(e,e.percentX(n.x),e.percentY(n.y),e.percentXY(n.size),e.percentXY(n.size),!1)}return t}))}},2163:e=>{e.exports=function(e){var t={seed:null,blend:e.blendFlat,rgba:e.randomRGBA,colorize:null,size:[1,7],opacity:1};e.effect("subplasma",t,(function(e,t){var r,n,a,i,o,s=1<<t.size,u=e.texture.width,c=u,l=[];s>u&&(s=u);var d=u/s;for(n=0;n<s;n++)for(r=0;r<s;r++)l[r*d+n*d*u]=e.randRealSeed(0,1);for(n=0;n<s;n++)for(r=0;r<u;r++)a=r&~(d-1),l[r+(i=n*d*u)]=e.calc.interpolate.catmullrom(l[(a-1*d&u-1)+i],l[(a-0*d&u-1)+i],l[(a+1*d&u-1)+i],l[(a+2*d&u-1)+i],r%d,d);for(n=0;n<c;n++)for(r=0;r<u;r++)a=n&~(d-1),l[r+n*u]=e.calc.interpolate.catmullrom(l[r+(a-1*d&c-1)*u],l[r+(a-0*d&c-1)*u],l[r+(a+1*d&c-1)*u],l[r+(a+2*d&c-1)*u],n%d,d);if(t.colorize)for(r=0;r<e.texture.width;r++)for(n=0;n<e.texture.height;n++)o=255*l[r+n*u],e.point.rgba=e.point.colorize(t.rgba,[o,o,o,255]),e.point.set(r,n);else for(r=0;r<e.texture.width;r++)for(n=0;n<e.texture.height;n++)o=255*l[r+n*u],e.point.rgba=[o,o,o,255],e.point.set(r,n);return t}),(function(e,t){null===t.colorize?t.colorize=1:t.colorize=e.randByArraySeed(t.colorize),t.size=e.randByArraySeed(t.size)}))}},6444:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){e.effect("waves",{seed:null,blend:e.blendSafe,rgba:"randomalpha",level:[1,100],xsines:[1,14],ysines:[1,14]},(function(e,r){r.xsines=e.randIntByArraySeed(r.xsines,[1,16]),r.ysines=e.randIntByArraySeed(r.ysines,[1,16]);for(var n=0;n<e.texture.width;n++)for(var a=0;a<e.texture.height;a++){var i=127+63.5*Math.sin(n/e.texture.width*r.xsines*2*e.calc.pi)+63.5*Math.sin(a/e.texture.height*r.ysines*2*e.calc.pi);"object"==t(r.channels)?e.point.rgba=[r.channels[0]?i:0,r.channels[1]?i:0,r.channels[2]?i:0,r.channels[3]?i:0]:e.point.rgba=e.point.colorize([i,i,i,255],r.rgba,r.level),e.point.set(n,a)}return r}))}},5800:e=>{e.exports=function(e){e.effect("xor",{seed:null,blend:"random",rgba:"randomalpha",level:[1,100],zoom:[.1,77]},(function(e,t){var r=e.texture.width,n=e.texture.height;t.zoom=e.randIntByArraySeed(t.zoom,[1,10]);for(var a=0;a<r;a++)for(var i=0;i<n;i++){var o=a*t.zoom^i*t.zoom;e.point.rgba=e.point.colorize([o,o,o,255],t.rgba,t.level),e.point.set(a,i)}return t}))}},9598:e=>{e.exports=function(e){e.filter("backlight",{seed:null,channels:[[0,1],[0,1],[0,1],0]},(function(e,t){return t.channels[0]=e.randByArraySeed(t.channels[0]),t.channels[1]=e.randByArraySeed(t.channels[1]),t.channels[2]=e.randByArraySeed(t.channels[2]),t.channels[3]=e.randByArraySeed(t.channels[3]),e.walk((function(e){return[t.channels[0]?255/e[0]*(255/e[0]):e[0],t.channels[1]?255/e[1]*(255/e[1]):e[1],t.channels[2]?255/e[2]*(255/e[2]):e[2],t.channels[3]?255/e[3]*(255/e[3]):e[3]]})),t}))}},6213:e=>{e.exports=function(e){e.filter("blur",{},(function(e,t){return e.do("convolute",{store:!1,transparent:!1,weights:[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]}),t}))}},3127:e=>{e.exports=function(e){e.filter("brightness",{seed:null,legacy:!0,adjust:[64,192]},(function(e,t){return t.adjust=e.randByArraySeed(t.adjust),!0===t.legacy?e.walk((function(e){return[Math.min(e[0]+t.adjust,255),Math.min(e[1]+t.adjust,255),Math.min(e[2]+t.adjust,255),e[3]]})):e.walk((function(e){return[e[0]=Math.min(255/e[0]*(t.adjust/255),255),e[1]=Math.min(255/e[1]*(t.adjust/255),255),e[2]=Math.min(255/e[2]*(t.adjust/255),255),e[3]]})),t}))}},6590:e=>{e.exports=function(e){e.filter("channel",{channels:[[.2,.8],[.4,1],[.8,1.2]]},(function(e,t){return t.channels[0]=e.randByArraySeed(t.channels[0],!0),t.channels[1]=e.randByArraySeed(t.channels[1],!0),t.channels[2]=e.randByArraySeed(t.channels[2],!0),e.walk((function(e){return[e[0]*t.channels[0],e[1]*t.channels[1],e[2]*t.channels[2],e[3]]})),t}))}},5891:e=>{e.exports=function(e){e.filter("colorize",{seed:null,level:[32,192],rgba:"random",colormap:null},(function(e,t){var r,n;return t.level=e.randByArraySeed(t.level),e.colormap.init(t.colormap,255,(function(e){t.colormap=e})),e.walk((function(a){return e.colormap.data?(r=(a[0]+a[1]+a[2])/3,(n=e.colormap.get(r,t.rgba))[3]=a[3],n):e.point.colorize(a,t.rgba,t.level)})),t}))}},5093:e=>{e.exports=function(e){e.filter("contrast",{seed:null,adjust:[64,192]},(function(e,t){t.adjust=e.randByArraySeed(t.adjust);var r=(100+t.adjust)/100;return e.walk((function(e){return e[0]=255*((e[0]/255-.5)*r+.5),e[1]=255*((e[1]/255-.5)*r+.5),e[2]=255*((e[2]/255-.5)*r+.5),[Math.max(Math.min(e[0],255),0),Math.max(Math.min(e[1],255),0),Math.max(Math.min(e[2],255),0),e[3]]})),t}))}},2307:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){e.filter("convolute",{blend:"opacity",transparent:!1,weights:"default1"},(function(e,r){if("object"!=t(r.weights)&&"string"!=typeof r.weights||null==r.weights)return r;if("string"==typeof r.weights[0]&&(r.weights=e.randByArraySeed(r.weights)),"string"==typeof r.weights)if("random"===r.weights){var n=-32,a=32;r.weights=[e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a),e.randIntSeed(n,a)],e.log(r.weights.join(", "))}else{var i={edgedetect1:[-1,-1,-1,-1,8,-1,-1,-1,-1],edgedetect2:[0,1,0,1,-4,1,0,1,0],edgedetect3:[1,0,-1,0,0,0,-1,0,1],sharpen1:[0,-1,0,-1,5,-1,0,-1,0],sharpen2:[-1,-1,-1,-1,9,-1,-1,-1,-1],emboss1:[1,1,1,1,.7,-1,-1,-1,-1],emboss2:[-2,-1,0,-1,1,1,0,1,2],emboss3:[10,3,-2,-8,-5,7,-3,-12,11],emboss4:[-6,11,-9,-9,0,-4,12,8,-2],sobel1:[-1,-2,-1,0,0,0,1,2,1],sobel2:[-1,0,1,-2,0,2,-1,0,1],sobel3:[-5,-8,12,-4,-8,-12,9,6,9],default1:[1,-11,-7,5,2,4,4,9,-2],default2:[-5,-21,25,22,31,-16,-2,-21,-10],default3:[1,1,1,1,1,1,1,1,1]};if(null==i[r.weights])return r;r.weights=i[r.weights]}var o=new e.buffer;o.clear();for(var s=Math.round(Math.sqrt(r.weights.length)),u=Math.floor(s/2),c=r.transparent?1:0,l=0;l<e.texture.height;l++)for(var d=0;d<e.texture.width;d++){for(var f=0,h=0,p=0,y=0,g=0;g<s;g++)for(var m=0;m<s;m++){var b=r.weights[g*s+m],v=l+g-u,x=d+m-u,S=e.texture.get(x,v);f+=S[0]*b,h+=S[1]*b,p+=S[2]*b,y+=S[3]}o.set(d,l,[f,h,p,y+c*(255-y)])}for(var M=e.texture.size();M--;)e.texture.data[M]=o.data[M];return r}))}},3458:e=>{e.exports=function(e){e.filter("edgedetect",{seed:null,type:[1,3]},(function(e,t){return t.type=e.randByArraySeed(t.type),e.do("convolute",{store:!1,transparent:!1,weights:"edgedetect"+t.type}),t}))}},4402:e=>{e.exports=function(e){e.filter("emboss",{seed:null,type:[1,4]},(function(e,t){return t.type=e.randByArraySeed(t.type),e.do("convolute",{store:!1,transparent:!1,weights:"emboss"+t.type}),t}))}},4998:e=>{e.exports=function(e){e.filter("gamma",{seed:null,adjust:[.1,2]},(function(e,t){return t.adjust=e.randByArraySeed(t.adjust,!0),e.walk((function(e){return e[0]=255*Math.pow(e[0]/255,1/t.adjust),e[1]=255*Math.pow(e[1]/255,1/t.adjust),e[2]=255*Math.pow(e[2]/255,1/t.adjust),[e[0],e[1],e[2],e[3]]})),t}))}},6966:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){e.filter("grayscale",{seed:null,method:["ligthness","average","luminosity"]},(function(e,r){switch("string"==typeof r&&(r={method:r}),"object"==t(r.method)&&(r.method=e.randItemSeed(r.method)),r.method){case"ligthness":e.walk((function(e){var t=Math.max(e[0],e[1],e[2])+Math.min(e[0],e[1],e[2]);return[t,t,t,e[3]]}));break;case"average":e.walk((function(e){var t=(e[0]+e[1]+e[2])/3;return[t,t,t,e[3]]}));break;case"luminosity":e.walk((function(t){var r=e.calc.luminance(t);return[r,r,r,t[3]]}))}return r}))}},490:(e,t,r)=>{e.exports=function(e){r(9598)(e),r(6213)(e),r(3127)(e),r(6590)(e),r(5891)(e),r(5093)(e),r(2307)(e),r(3458)(e),r(4402)(e),r(4998)(e),r(6966)(e),r(1537)(e),r(173)(e),r(9706)(e),r(7113)(e),r(7772)(e),r(5710)(e),r(4977)(e)}},1537:e=>{e.exports=function(e){e.filter("invert",{seed:null,channels:[[0,1],[0,1],[0,1],0]},(function(e,t){return t.channels[0]=e.randByArraySeed(t.channels[0]),t.channels[1]=e.randByArraySeed(t.channels[1]),t.channels[2]=e.randByArraySeed(t.channels[2]),e.walk((function(e){return[t.channels[0]?255-e[0]:e[0],t.channels[1]?255-e[1]:e[1],t.channels[2]?255-e[2]:e[2],t.channels[3]?255-e[3]:e[3]]})),t}))}},173:e=>{e.exports=function(e){e.filter("opacity",{seed:null,adjust:[32,192]},(function(e,t){return t.adjust=e.randByArraySeed(t.adjust),e.walk((function(e){return e[3]=t.adjust,e})),t}))}},9706:e=>{e.exports=function(e){e.filter("sharpen",{seed:null,type:[1,2]},(function(e,t){return t.type=e.randByArraySeed(t.type),e.do("convolute",{store:!1,transparent:!1,weights:"sharpen"+t.type}),t}))}},7113:e=>{e.exports=function(e){e.filter("sinecolor",{seed:null,sines:[1,10],channel:[0,2]},(function(e,t){return t.sines=e.randByArraySeed(t.sines),t.channel=e.randByArraySeed(t.channel),e.walk((function(r){var n=parseInt(255*Math.sin(r[t.channel]*(e.calc.pi/180)*(255/360)*t.sines));return r[t.channel]=Math.abs(n),r})),t}))}},7772:e=>{e.exports=function(e){e.filter("sobel",{seed:null,type:[1,3]},(function(e,t){return t.type=e.randByArraySeed(t.type),e.do("convolute",{store:!1,transparent:!1,weights:"sobel"+t.type}),t}))}},5710:e=>{e.exports=function(e){e.filter("threshold",{seed:null,adjust:[64,128]},(function(e,t){return t.adjust=e.randByArraySeed(t.adjust),e.walk((function(e){var r=.2126*e[0]+.7152*e[1]+.0722*e[2]<=t.adjust?0:255;return[r,r,r,e[3]]})),t}))}},4977:e=>{e.exports=function(e){e.filter("vibrance",{seed:null,adjust:[64,192]},(function(e,t){t.adjust=e.randByArraySeed(t.adjust);var r=-1*t.adjust;return e.walk((function(e){var t=(e[0]+e[1]+e[2])/3,n=Math.max(e[0],e[1],e[2]),a=2*Math.abs(n-t)/255*r/100;return e[0]!==n&&(e[0]+=(n-e[0])*a),e[1]!==n&&(e[1]+=(n-e[1])*a),e[2]!==n&&(e[2]+=(n-e[2])*a),[e[0],e[1],e[2],e[3]]})),t}))}},9691:(e,t,r)=>{var n,a={version:"1.4.8",defaults:{},effects:{},prepare:{},filters:[],presets:{},functions:[],blends:{},shapes:{},colormaps:{},config:{},blendFlat:["lighten","screen","opacity"],blendSafe:["average","lighten","linearburn","linearlight","difference","difference-invert","screen","lineardodge","lineardodge-invert","opacity","exclusion"],randomRGBA:[[0,255],[0,255],[0,255],[64,255]],effect:function(e,t,r,n){this.defaults[e]=t,this.effects[e]=r,this.prepare[e]=n},function:function(e,t,r){this.functions.push(e),this.defaults[e]=t,this.effects[e]=r},filter:function(e,t,r){this.filters.push(e),this.defaults[e]=t,this.effects[e]=r},preset:function(e,t){t.name=e,this.presets[e]=t},event:function(e,t,r){null!=this.events[e]&&(this.events[e][t]=r)},blend:function(e,t){this.blends[e]=t},shape:function(e,t){this.shapes[e]=t},colormap:function(e,t){this.colormaps[e]=t},init:function(e,t,r){return this.getGenerator(e,t,r)}};r(6611)(a),r(2358)(a),r(5702)(a),r(8370)(a),r(9395)(a),r(5265)(a),r(490)(a),r(9136)(a),"undefined"!=typeof window&&(window.tgen=a),void 0!==e.exports?e.exports=a:void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)},6611:e=>{e.exports=function(e){e.blend("opacity",(function(e,t,r){return r})),e.blend("multiply",(function(e,t,r){return r[0]=t[0]*r[0]/255,r[1]=t[1]*r[1]/255,r[2]=t[2]*r[2]/255,r})),e.blend("linearburn",(function(e,t,r){return r[0]=t[0]+r[0]-255,r[1]=t[1]+r[1]-255,r[2]=t[2]+r[2]-255,r})),e.blend("difference",(function(e,t,r){return r[0]=Math.abs(r[0]-t[0]),r[1]=Math.abs(r[1]-t[1]),r[2]=Math.abs(r[2]-t[2]),r})),e.blend("difference-invert",(function(e,t,r){return r[0]=255-Math.abs(r[0]-t[0]),r[1]=255-Math.abs(r[1]-t[1]),r[2]=255-Math.abs(r[2]-t[2]),r})),e.blend("screen",(function(e,t,r){return r[0]=255-(255-t[0])*(255-r[0])/255,r[1]=255-(255-t[1])*(255-r[1])/255,r[2]=255-(255-t[2])*(255-r[2])/255,r})),e.blend("overlay",(function(e,t,r){return r[0]=t[0]>128?255-2*(255-r[0])*(255-t[0])/255:t[0]*r[0]*2/255,r[1]=t[1]>128?255-2*(255-r[1])*(255-t[1])/255:t[1]*r[1]*2/255,r[2]=t[2]>128?255-2*(255-r[2])*(255-t[2])/255:t[2]*r[2]*2/255,r})),e.blend("exclusion",(function(e,t,r){return r[0]=128-2*(t[0]-128)*(r[0]-128)/255,r[1]=128-2*(t[1]-128)*(r[1]-128)/255,r[2]=128-2*(t[2]-128)*(r[2]-128)/255,r})),e.blend("darken",(function(e,t,r){return r[0]=r[0]<t[0]?r[0]:t[0],r[1]=r[1]<t[1]?r[1]:t[1],r[2]=r[2]<t[2]?r[2]:t[2],r})),e.blend("lighten",(function(e,t,r){return r[0]=r[0]>t[0]?r[0]:t[0],r[1]=r[1]>t[1]?r[1]:t[1],r[2]=r[2]>t[2]?r[2]:t[2],r})),e.blend("lineardodge",(function(e,t,r){return r[0]=t[0]+r[0],r[1]=t[1]+r[1],r[2]=t[2]+r[2],r})),e.blend("lineardodge-invert",(function(e,t,r){return r[0]=255-(r[0]+t[0]),r[1]=255-(r[1]+t[1]),r[2]=255-(r[2]+t[2]),r})),e.blend("linearlight",(function(e,t,r){return r[0]=t[0]+2*r[0]-255,r[1]=t[1]+2*r[1]-255,r[2]=t[2]+2*r[2]-255,r})),e.blend("linearburn",(function(e,t,r){return r[0]=t[0]+r[0]-255,r[1]=t[1]+r[1]-255,r[2]=t[2]+r[2]-255,r})),e.blend("softlight",(function(e,t,r){return r[0]=t[0]>128?255-(255-t[0])*(255-(r[0]-128))/255:t[0]*(r[0]+128)/255,r[1]=t[1]>128?255-(255-t[1])*(255-(r[1]-128))/255:t[1]*(r[1]+128)/255,r[2]=t[2]>128?255-(255-t[2])*(255-(r[2]-128))/255:t[2]*(r[2]+128)/255,r})),e.blend("subbtract",(function(e,t,r){return r[0]=Math.max(t[0]-r[0],0),r[1]=Math.max(t[1]-r[1],0),r[2]=Math.max(t[2]-r[2],0),r})),e.blend("backlight",(function(e,t,r){return t[0]=0===t[0]?.001:t[0],t[1]=0===t[1]?.001:t[1],t[2]=0===t[2]?.001:t[2],r[0]=255/t[0]*(255/r[0]),r[1]=255/t[1]*(255/r[1]),r[2]=255/t[2]*(255/r[2]),r})),e.blend("average",(function(e,t,r){return r[0]=(r[0]+t[0])/2,r[1]=(r[1]+t[1])/2,r[2]=(r[2]+t[2])/2,r})),e.blend("alphamap",(function(e,t,r){return t[3]=(r[0]+r[1]+r[2])/3,t}))}},5702:e=>{e.exports=function(e){e.colormap("blackwhite",(function(){return[{percent:0,rgba:[0,0,0,255]},{percent:25,rgba:[255,255,255,255]},{percent:50,rgba:[0,0,0,255]},{percent:75,rgba:[255,255,255,255]},{percent:100,rgba:[0,0,0,255]}]})),e.colormap("blackwhite2",(function(){return[{percent:0,rgba:[0,0,0,255]},{percent:100,rgba:[255,255,255,255]}]})),e.colormap("grayscale",(function(){return[{percent:0,rgba:[0,0,0,255]},{percent:100,rgba:[255,255,255,255]}]})),e.colormap("elevation",(function(){return[{percent:0,rgba:[252,69,27,255]},{percent:25,rgba:[245,203,39,255]},{percent:50,rgba:[104,253,163,255]},{percent:75,rgba:[27,196,253,255]},{percent:100,rgba:[88,18,252,255]}]})),e.colormap("wiener-challah",(function(){return[{percent:0,rgba:[66,53,66,255]},{percent:25,rgba:[111,68,70,255]},{percent:50,rgba:[163,90,59,255]},{percent:75,rgba:[237,155,43,255]},{percent:100,rgba:[255,240,150,255]}]})),e.colormap("parula",(function(){return[{percent:0,rgba:[53,42,135,255]},{percent:12.5,rgba:[3,99,225,255]},{percent:25,rgba:[20,133,212,255]},{percent:37.5,rgba:[6,167,198,255]},{percent:50,rgba:[56,185,158,255]},{percent:62.5,rgba:[146,191,115,255]},{percent:75,rgba:[217,186,86,255]},{percent:87.5,rgba:[252,206,46,255]},{percent:100,rgba:[249,251,14,255]}]})),e.colormap("dawn",(function(){return[{percent:0,rgba:[255,255,192,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[255,128,128,255]},{percent:75,rgba:[128,0,128,255]},{percent:100,rgba:[0,0,128,255]}]})),e.colormap("dusk",(function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[255,128,255,255]},{percent:50,rgba:[128,0,255,255]},{percent:75,rgba:[0,0,128,255]},{percent:100,rgba:[0,0,0,255]}]})),e.colormap("kryptonite",(function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[128,255,0,255]},{percent:75,rgba:[0,128,0,255]},{percent:100,rgba:[0,0,0,255]}]})),e.colormap("ice",(function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[128,255,255,255]},{percent:50,rgba:[0,128,255,255]},{percent:75,rgba:[0,0,128,255]},{percent:100,rgba:[0,0,0,255]}]})),e.colormap("fire",(function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[255,128,0,255]},{percent:75,rgba:[128,0,0,255]},{percent:100,rgba:[0,0,0,255]}]})),e.colormap("redblue",(function(){return[{percent:0,rgba:[96,0,0,255]},{percent:25,rgba:[192,0,0,255]},{percent:50,rgba:[255,255,255,255]},{percent:75,rgba:[0,0,192,255]},{percent:100,rgba:[0,0,96,255]}]})),e.colormap("seashore",(function(){return[{percent:0,rgba:[255,255,192,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[128,255,128,255]},{percent:75,rgba:[0,128,128,255]},{percent:100,rgba:[0,0,128,255]}]}))}},8370:e=>{e.exports=function(e){e.function("copy",{layer:null},(function(e,t){return"number"==typeof t&&(t={layer:t}),null===t.layer&&(t.layer=e.layers.length-1),null!=e.layers[t.layer]&&(e.texture.data=e.layerCopy(t.layer)),t})),e.function("mergeall",{blend:"opacity",firstcopy:!0,opacity:null},(function(e,t){for(var r=e.layers.length,n=0;n<=r;n++){e.layers[n];0===n&&!0===t.firstcopy?e.do("copy",{layer:0}):e.do("merge",{blend:t.blend,layer:n,opacity:t.opacity})}return t})),e.function("merge",{blend:"opacity",opacity:null,layer:0},(function(e,t){if(void 0===e.layers[t.layer])return t;for(var r=e.layers[t.layer],n=0;n<e.texture.height;n++)for(var a=0;a<e.texture.width;a++){var i=e.texture.offset(a,n);e.point.rgba=[r[i],r[i+1],r[i+2],t.opacity?t.opacity:r[i+3]],e.point.set(a,n)}return t})),e.function("map",{seed:null,xamount:[4,512],yamount:[4,512],xchannel:[0,2],ychannel:[0,2],xlayer:0,ylayer:0},(function(e,t){t.xamount=e.randByArraySeed(t.xamount),t.yamount=e.randByArraySeed(t.yamount),t.xchannel=e.randByArraySeed(t.xchannel),t.ychannel=e.randByArraySeed(t.ychannel),t.xlayer=e.randByArraySeed(t.xlayer),t.ylayer=e.randByArraySeed(t.ylayer);var r,n,a,i,o,s,u,c,l=new e.buffer,d=e.texture.width,f=e.texture.height,h=e.texture.size(),p=e.layers[t.xlayer],y=e.layers[t.ylayer];if(p&&p[0]){for(r=0;r<d;r++)for(n=0;n<f;n++)u=p[(s=e.texture.offset(r,n))+t.xchannel],c=y[s+t.ychannel],a=d%16==0?e.wrapx(r+(u*t.xamount*d>>16)):r+u*t.xamount*d/(d*d),i=f%16==0?e.wrapy(n+(c*t.yamount*f>>16)):n+c*t.yamount*f/(f*f),o=e.point.get(a,i),l.data[s]=o[0],l.data[s+1]=o[1],l.data[s+2]=o[2],l.data[s+3]=o[3];for(;h--;)e.texture.data[h]=l.data[h];return t}})),e.function("rotate",{seed:null,angle:90,times:[1,3],type:1,blend:e.blendSafe},(function(e,t){t.type=e.randByArraySeed(t.type),null===t.angle?t.angle=e.randItemByArraySeed(t.angle,[90,180,270]):t.angle=e.randByArraySeed(t.angle),t.times=e.randByArraySeed(t.times);for(var r,n,a,i,o,s,u=new e.buffer,c=e.texture.size(),l=e.texture.width,d=e.texture.height,f=t.angle*(Math.PI/180),h=function(){for(r=0;r<l;r++)for(n=0;n<d;n++)o=Math.ceil(Math.cos(f)*r-Math.sin(f)*n),s=Math.ceil(Math.sin(f)*r+Math.cos(f)*n),rgba1=e.point.get(r,n),rgba2=e.point.get(o,s),a=e.blend(t.blend,rgba2,rgba1),i=e.texture.offset(r,n),u.data[i]=a[0],u.data[i+1]=a[1],u.data[i+2]=a[2],u.data[i+3]=a[3];for(;c--;)e.texture.data[c]=u.data[c]},p=function(){for(r=0;r<l;r++)for(n=0;n<d;n++)o=Math.ceil(Math.cos(f)*r-Math.sin(f)*n),s=Math.ceil(Math.sin(f)*r+Math.cos(f)*n),rgba1=e.point.get(r,n),rgba2=e.point.get(o,s),a=e.blend(t.blend,rgba2,rgba1),i=e.texture.offset(o,s),u.data[i]=a[0],u.data[i+1]=a[1],u.data[i+2]=a[2],u.data[i+3]=a[3];for(;c--;)e.texture.data[c]=u.data[c]},y=1;y<=t.times;y++)c=e.texture.size(),f=y*t.angle*(Math.PI/180),1===t.type?h():p();return t})),e.function("rot90",{seed:null,times:[1,3],blend:e.blendSafe},(function(t,r){return r.type=1,r.angle=90,e.effects.rotate(t,r),r})),e.function("equirectangular",{layer:null},(function(e,t){null===t.layer&&(t.layer=e.layers.length-1);var r,n,a,i,o,s,u,c,l,d,f,h=new e.buffer,p=e.texture.width,y=e.texture.height,g=y/2,m=Math.PI,b=p/2,v=y/2;for(r=0;r<p;r++)for(n=0;n<y;n++)o=360-360*r/p-180,s=180-180*n/y,u=Math.sin(s*m/180),c=Math.cos(o*m/180)*u,l=Math.sin(o*m/180)*u,d=Math.round(c*g+b),f=Math.round(l*g+v),a=e.point.get(d,f),i=e.texture.offset(r,n),h.data[i]=a[0],h.data[i+1]=a[1],h.data[i+2]=a[2],h.data[i+3]=a[3];for(var x=e.texture.size();x--;)e.texture.data[x]=h.data[x];return t}))}},9395:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){e.getGenerator=function(r,n,a){var i=this,o=[],s={},u=null,c={shape:i.shapes,effects:Object.keys(i.effects),layers:[],normalize:a||"limitless"},l=function(){null==r&&(r=256),r<1&&(r=256),n<1&&(n=256),r>2048&&(r=2048),n>2048&&(n=2048),null==n&&(n=r),u=(r+n)/2};l(),c.log=function(){if(this.debug&&arguments.length>0){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);console.log(e)}},c.clear=function(){return c.texture.clear(),c.layers=[],o=[],0,s.start=(new Date).getTime(),c},c.buffer=function(e){this.data=null,this.debug=!1,this.components=4,this.width=r,this.height=n,this.wha=(this.width+this.height)/2,this.background=[0,0,0,255],"object"==t(e)&&(this.background=e),this.pixels=function(){return this.width*this.height},this.size=function(){return this.data.length},this.export=function(e,t){e=void 0!==e?e:c.normalize;var r,n=(t=t||this.data).length;switch(e){case"limitless":for(r=new Float32Array(n);n--;)r[n]=t[n];break;case"clamped":for(r=new Uint8ClampedArray(n);n--;)r[n]=t[n];break;case"pingpong":for(r=new Uint8ClampedArray(n);n--;)r[n]=c.calc.pingpong(t[n],0,255);break;case"compress":r=new Uint8ClampedArray(n);for(var a=t[0],i=t[0],o=n;o--;)t[o]&&(a=Math.min(a,t[o]),i=Math.max(i,t[o]));a=Math.floor(a);for(var s=255/((i=Math.ceil(i))-a);n;)r[n-1]=t[n-1],r[n-2]=(t[n-2]-a)*s,r[n-3]=(t[n-3]-a)*s,r[n-4]=(t[n-4]-a)*s,n-=4}return r},this.clear=function(e){this.data=new Float32Array(this.width*this.height*this.components),null==e&&(e=this.background);for(var t=this.size();t;)this.data[t-1]=e[3],this.data[t-2]=e[2],this.data[t-3]=e[1],this.data[t-4]=e[0],t-=this.components},this.pattern=function(e,t){var r,n,a=e/t;return e>=t?n=e-(r=Math.floor(a)*t):e<0?(r=Math.ceil(a)*t,(n=t-Math.abs(e-r))>=t?n-=t:n):void 0},this.offset=function(e,t){return e=Math.round(e),t=Math.round(t),(e<0||e>=this.width)&&(e=this.pattern(e,this.width)),(t<0||t>=this.height)&&(t=this.pattern(t,this.height)),t*this.width*this.components+e*this.components},this.set=function(e,t,r){var n=this.offset(e,t);this.data[n]=r[0],this.data[n+1]=r[1],this.data[n+2]=r[2],this.data[n+3]=r[3]},this.get=function(e,t){var r=this.offset(e,t);return[this.data[r],this.data[r+1],this.data[r+2],this.data[r+3]]},this.alpha=function(e){if("sphere"===e)for(;size;)c.texture.data[size]=.5,size-=4},this.canvas=function(e){for(var t=this.size(),r=e.getContext("2d").getImageData(0,0,this.width,this.height).data;t--;)c.texture.data[t]=r[t]},null===this.data&&this.clear()},c.texture=new c.buffer,c.layerCopy=function(e){for(var t=[],r=this.layers[e],n=r.length;n--;)t[n]=r[n];return t},c.minMaxNormalize=function(e,t){return{min:Math.min(e,t),max:Math.max(e,t)}},c.randInt=function(e,t,r){var n,a=c.minMaxNormalize(e,t);return e=a.min,t=a.max,!0===r?(e=Math.round(e/2),t=Math.round(t/2),n=2):n=1,n*(Math.floor(Math.random()*(t-e+1))+e)},c.randIntSeed=function(e,t,r){var n=c.minMaxNormalize(e,t);return e=n.min,t=n.max,!0===r?(e=Math.round(e/2),t=Math.round(t/2),mul=2):mul=1,mul*(Math.floor(c.calc.randomseed()*(t-e+1))+e)},c.randReal=function(e,t){var r=c.minMaxNormalize(e,t);return e=r.min,t=r.max,Math.random()*(t-e)+e},c.randRealSeed=function(e,t){var r=c.minMaxNormalize(e,t);return e=r.min,t=r.max,c.calc.randomseed()*(t-e)+e},c.randByArray=function(e,r){return null==e||"object"!==t(e)||void 0===e[0]?(c.calc.seed++,e):e=void 0!==r?c.randReal(e[0],e[1]):c.randInt(e[0],e[1])},c.randByArraySeed=function(e,r,n){return null==e||"object"!==t(e)||void 0===e[0]?(c.calc.seed++,e):e=r?c.randRealSeed(e[0],e[1]):c.randIntSeed(e[0],e[1],n)},c.randIntByArraySeed=function(e,r,n){return null!=e&&"random"!==e||(e=r),"object"!==t(e)?(c.calc.seed++,e):e=c.randIntSeed(e[0],e[1],n)},c.randRealByArraySeed=function(e,r){return null!=e&&"random"!==e||(e=r),"object"!==t(e)?(c.calc.seed++,e):e=c.randRealSeed(e[0],e[1])},c.randItemSeed=function(e){if("object"!==t(e)||void 0===e[0])return c.calc.seed++,e;var r=e.length;return e[c.randIntSeed(0,r-1)]},c.randItemByArray=function(e,t){if(null!=e&&"random"!==e)return e;var r=t.length;return t[c.randInt(0,r-1)]},c.randItemByArraySeed=function(e,t){if(null!=e&&"random"!==e)return c.calc.seed++,e;var r=t.length;return t[c.randIntSeed(0,r-1)]},c.randProperty=function(e,t){if(null!=e&&"random"!==e)return c.calc.seed++,e;var r=Object.keys(t);return r[c.randByArraySeed([0,r.length-1])]},c.rgba=function(e,t){return"random"!==e&&null!=e||(e=[[0,255],[0,255],[0,255],255]),"randomalpha"===e&&(e=[[0,255],[0,255],[0,255],[128,255]]),void 0!==e[0]&&null!==e[0]||(e[0]=0),void 0!==e[1]&&null!==e[1]||(e[1]=0),void 0!==e[2]&&null!==e[2]||(e[2]=0),void 0!==e[3]&&null!==e[3]||(e[3]=255),e[0]=c.randByArraySeed(e[0]),e[1]=c.randByArraySeed(e[1]),e[2]=c.randByArraySeed(e[2]),e[3]=c.randByArraySeed(e[3]),e[3]%1!=0&&(e[3]=Math.round(255*e[3])),1==e[3]&&(e[3]=255),e};return c.findClosestIndex=function(e,t,r){for(var n=t;n>=0&&n<=e.length-1;n+=r)if(e[n])return n;return e.length-1},c.easing={PI:3.1415926535,c1:1.70158,c2:1.525*this.c1,c3:this.c1+1,c4:2*this.PI/3,c5:2*this.PI/4.5,InQuad:function(e){return e*e},OutQuad:function(e){return 1-(1-e)*(1-e)},InOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},InCubic:function(e){return e*e*e},OutCubic:function(e){return 1-Math.pow(1-e,3)},InOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},InQuart:function(e){return e*e*e*e},OutQuart:function(e){return 1-Math.pow(1-e,4)},InOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},InQuint:function(e){return e*e*e*e*e},OutQuint:function(e){return 1-Math.pow(1-e,5)},InOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},InSine:function(e){return 1-Math.cos(e*this.PI/2)},OutSine:function(e){return Math.sin(e*this.PI/2)},InOutSine:function(e){return-(Math.cos(this.PI*e)-1)/2},InExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},OutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},InCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},OutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},InOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},InBack:function(e){return this.c3*e*e*e-this.c1*e*e},OutBack:function(e){return 1+this.c3*Math.pow(e-1,3)+this.c1*Math.pow(e-1,2)},InOutBack:function(e){return e<.5?Math.pow(2*e,2)*(2*(this.c2+1)*e-this.c2)/2:(Math.pow(2*e-2,2)*((this.c2+1)*(2*e-2)+this.c2)+2)/2},InElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*this.c4)},OutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*this.c4)+1},InOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*this.c5)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*this.c5)/2+1},InBounce:function(e){return 1-this.OutBounce(1-e)},OutBounce:function(e){var t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},InOutBounce:function(e){return e<.5?(1-this.OutBounce(1-2*e))/2:(1+this.OutBounce(2*e-1))/2}},c.calc={seed:void 0,pi:3.1415927,luminance:function(e){return.21*e[0]+.72*e[1]+.07*e[2]},randomseed:function(e){void 0!==e?this.seed=e:void 0===this.seed&&(this.seed=c.randInt(1,Number.MAX_SAFE_INTEGER));var t=1e4*Math.sin(this.seed++);return t-Math.floor(t)},normalize1:function(e){return c.calc.normalize(e,0,1)},normalize255:function(e){return c.calc.normalize(e,0,255)},normalize:function(e,t,r){return e>r?r:e<t?t:e},pingpong:function(e,t,r){var n=r-t,a=n+n;return e-=Math.floor(e/a)*a,e=n-Math.abs(e-n)},interpolate:{linear:function(e,t,r){return e*(1-r)+t*r},cosine:function(e,t,r){var n=r*c.calc.pi,a=.5*(1-Math.cos(n));return e*(1-a)+t*a},catmullrom:function(e,t,r,n,a,i){var o=a/i,s=n-r-(e-t),u=s*o*o*o+(e-t-s)*o*o+(r-e)*o+t;return u<0&&(u=0),u>1&&(u=1),u}}},c.colormap={data:null,easing:null,reverse:!1,size:255,init:function(e,n,a){if(this.data=null,this.size=null==n?r:n,null==e||null==e)return e;if("object"==t(e))if("object"==t(e[0]))for(var o in e){var s=e[o];s.rgba=c.rgba(s.rgba),e[o]=s}else e=c.randItemSeed(e);if("random"===e&&(e=this.random()),"string"==typeof e&&("!"==e.charAt(0)&&(e=e.substring(1),this.reverse=!0),"function"==typeof i.colormaps[e])){var u=i.colormaps[e](n);this.data=this.render(u)}"object"==t(e)&&(this.data=this.render(e)),"function"==typeof a&&a(e)},random:function(e){e=e||c.randIntSeed(2,7);for(var t=[],r=0;r<=e;r++)t[r]={percent:parseInt(r/e*100),rgba:[c.randIntSeed(0,255),c.randIntSeed(0,255),c.randIntSeed(0,255),255]};return t},render:function(e){for(var t=[],r=0;r<e.length-1;r++)for(var n=e[r],a=e[r+1],i=Math.round(this.size*(n.percent/100)),o=Math.round(this.size*(a.percent/100)),s=i;s<=o;s++)t[this.reverse?this.size-s:s]=[n.rgba[0]+(s-i)/(o-i)*(a.rgba[0]-n.rgba[0]),n.rgba[1]+(s-i)/(o-i)*(a.rgba[1]-n.rgba[1]),n.rgba[2]+(s-i)/(o-i)*(a.rgba[2]-n.rgba[2]),n.rgba[3]+(s-i)/(o-i)*(a.rgba[3]-n.rgba[3])];return t},get:function(e,t){var r=c.calc.pingpong(parseInt(e),0,this.size),n=this.data[r];return void 0!==t&&(n[3]=t[3]),n}},c.wrapx=function(e){return e&r-1},c.wrapy=function(e){return e&n-1},c.blend=function(e,t,r){if(i.blends[e])return i.blends[e](c,t,r)},c.point={rgba:[],mixed:[],blend:"opacity",colorize:function(e,t,r){return void 0===r&&(r=50),[e[0]-(e[0]-t[0])*(r/100),e[1]-(e[1]-t[1])*(r/100),e[2]-(e[2]-t[2])*(r/100),t[3]?t[3]:255]},opacity:function(e,t){if(255==e[3])return e[3]=t[3],e;if(0==t[3])return t;var r=e[3]/255;return[e[0]*r+t[0]*(1-r),e[1]*r+t[1]*(1-r),e[2]*r+t[2]*(1-r),t[3]]},set:function(e,t){var r=c.texture.get(e,t);switch(void 0!==i.blends[this.blend]?(this.rgba=i.blends[this.blend](c,r,this.rgba),this.mixed=this.opacity(this.rgba,r)):this.mixed=this.rgba,c.normalize){case"clamped":this.mixed[0]=Math.max(0,Math.min(255,this.mixed[0])),this.mixed[1]=Math.max(0,Math.min(255,this.mixed[1])),this.mixed[2]=Math.max(0,Math.min(255,this.mixed[2])),this.mixed[3]=Math.max(0,Math.min(255,this.mixed[3]));break;case"pingpong":this.mixed[0]=c.calc.pingpong(this.mixed[0],0,255),this.mixed[1]=c.calc.pingpong(this.mixed[1],0,255),this.mixed[2]=c.calc.pingpong(this.mixed[2],0,255),this.mixed[3]=c.calc.pingpong(this.mixed[3],0,255)}c.texture.set(e,t,this.mixed)},get:function(e,t){return c.texture.get(e,t)}},c.walk=function(e){for(var t=0;t<r;t++)for(var a=0;a<n;a++){var i=c.point.get(t,a);i=e(i,t,a),c.point.rgba=i,c.point.set(t,a)}},c.percent=function(e,t){return parseInt(e/100*t,10)},c.percentX=function(e){return parseInt(e/100*r,10)},c.percentY=function(e){return parseInt(e/100*n,10)},c.percentXY=function(e){return parseInt(e/100*u,10)},c.percentRGBA=function(e,t,r){return t[0]=null===t[0]?e[0]:t[0],t[1]=null===t[1]?e[1]:t[1],t[2]=null===t[2]?e[2]:t[2],t[3]=null===t[3]?e[3]:t[3],[Math.round(e[0]+(t[0]-e[0])*r),Math.round(e[1]+(t[1]-e[1])*r),Math.round(e[2]+(t[2]-e[2])*r),Math.round(e[3]+(t[3]-e[3])*r)]},c.xysize=function(e,t){var a,i,o;return null!=t.elements?(a=t.elements[e].x,i=t.elements[e].y,o=t.elements[e].size):"random"==t.origin?(a=c.randIntSeed(0,r),i=c.randIntSeed(0,n),o=c.randByArraySeed(t.size)):(a=t.origin[0],i=t.origin[1],o=c.randByArraySeed(t.size)),{x:a,y:i,size:o}},c.toContext=function(e,t){for(var a=e.createImageData(r,n),i=a.data,o=t.length,s=0;s<o;s+=4)i[s]=t[s],i[s+1]=t[s+1],i[s+2]=t[s+2],i[s+3]=t[s+3];return a},c.toCanvas=function(e,t,a){null==e&&(e=c.texture.data);var i=document.createElement("canvas");i.width=r,i.height=n;var o=i.getContext("2d"),s=this.toContext(o,e);if(o.putImageData(s,0,0),t&&a){var u=document.createElement("canvas"),l=u.getContext("2d");return l.imageSmoothingEnabled=!0,u.width=t,u.height=a,l.drawImage(i,0,0,r,n,0,0,t,a),u}return i},c.getCanvas=function(e){return e&&e(this.toCanvas(this.layers[this.layers.length-1])),this},c.getPhases=function(e){if(e){for(var t=[],r=c.layers.length,n=0;n<r;n++)t.push(this.toCanvas(this.layers[n]));e(t)}return this},c.stat=function(e){return s.stop=(new Date).getTime(),s.elapsed=(s.stop-s.start)/1e3,e&&e(s),this},c.params=function(e){if(null==e){var t=new Date;e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" l"+c.layers.length+" i"+o.length}return{name:e,version:i.version,width:r,height:n,normalize:c.normalize,items:o}},c.parseLayers=function(e){if(e.layers){var t=[];e.layers.forEach((function(e,r){e.items.forEach((function(e){t.push([r,e[0],e[1]])}))})),e.items=t}},c.prepareConfig=function(t){for(var r in null==t&&(t={}),this.parseLayers(t),t.items)if(effect=t.items[r][1],values=void 0!==t.items[r][2]&&null!==t.items[r][2]?t.items[r][2]:{},i.defaults[effect])for(var n in i.defaults[effect])void 0===values[n]&&(values[n]=i.defaults[effect][n],"randomalpha"===values[n]&&(values[n]=e.randomRGBA))},c.render=function(a,o,s){var u=JSON.parse(JSON.stringify(a));this.prepareConfig(a);var d=JSON.parse(JSON.stringify(a));this.config=d,this.debug=!0===d.debug,c.progress=o;if(null!=d.width&&(r=d.width),null!=d.height&&(n=d.height),null!=d.normalize?c.normalize=d.normalize:c.normalize="limitless",l(),c.texture=new c.buffer(d.background),c.clear(),d.preset&&d.preset.name){var f=d.preset.name;if("random"===d.preset.name&&(f=c.randItemByArraySeed(null,Object.keys(e.presets))),"object"===t(d.preset.name)&&(f=c.randItemByArraySeed(null,d.preset.name)),f){var h,p=JSON.parse(JSON.stringify(e.presets[f].items));if(d.preset.seed)for(h in p)p[h][2]||(p[h][2]={}),void 0!==i.defaults[f].seed&&(p[h][2].seed=d.preset.seed);for(h in d.items)p.push(d.items[h]);d.items=p}}this.itemsAll=d.items.length,c.event("before-render",{config:{original:u,current:d}});return c.renderItem(0,0,d,f),c.event("after-render",{config:c.config,original:u}),this},c.renderItem=function(e,r,n,a){if(n.items[e]){var o=n.items[e][0],s=n.items[e][1],u=void 0!==n.items[e][2]&&null!==n.items[e][2]?n.items[e][2]:{};null===o&&(o="copy"===s?r+1:r),void 0!==n.seed&&null!==n.seed&&i.defaults[a].seed&&(void 0!==u.seed&&null!==u.seed||(u.seed=n.seed)),"random"==s&&(s=c.randProperty(c.defaults)),"object"==t(s)&&(s=c.randItemSeed(s)),r!=o&&(null!=c.layers[o]?c.texture.data=c.layers[o]:c.texture.clear(),r=o),c.event("before-effect",{layerId:o,itemIndex:e,effect:a,params:u}),u.skip||(null!=c[s]?c[s](u):null!=i.effects[s]?n.items[e][2]=c.do(s,u,o,e):console.warn("undefined effect: "+s)),c.layers[o]=c.texture.export(),c.event("after-effect",{layerId:o,itemIndex:e,effect:a,params:n.items[e][2]}),e++,c.renderItem(e,r,n)}},c.event=function(e,t){c.progress&&((t=t||{}).config=c.params(),t.layers=c.layers.length,t.items=c.itemsAll,t.$g=c,void 0!==t.layerId&&null!==t.layerId&&(t.layer=c.layers[t.layerId]),c.progress(e,t))},c.do=function(e,t,r,n){return void 0!==(t=Object.assign({},i.defaults[e],t)).seed&&(t.seed=null!==t.seed?t.seed:[1,Number.MAX_SAFE_INTEGER],t.seed=c.randByArray(t.seed)),c.calc.randomseed(t.seed),function(e,t){e.count=c.randByArraySeed(e.count),e.level=c.randByArraySeed(e.level),e.opacity=c.randByArraySeed(e.opacity),void 0!==e.blend?(e.blend=c.randProperty(e.blend,i.blends),e.blend=c.randItemSeed(e.blend),c.point.blend=e.blend):c.point.blend="",i.defaults[t]&&i.defaults[t].rgba&&(e.rgba=c.rgba(e.rgba)),e.rgba&&(c.point.rgba=[e.rgba[0],e.rgba[1],e.rgba[2],e.rgba[3]]),Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]}))}(t,e),"function"==typeof i.effects[e]?(i.prepare[e]&&"function"==typeof i.prepare[e]&&i.prepare[e](c,t),i.effects[e](c,t)):console.warn("effect not callable: "+e),t&&!1!==t.store&&function(e,t,r){o.push([e,t,r])}(r,e,t),t},c}}},2358:e=>{e.exports=function(e){e.shape("rect",(function(e,t,r,n,a,i){void 0!==i&&(t-=parseInt(n/2,10),r-=parseInt(a/2,10));for(var o=0;o<n;o++)for(var s=0;s<a;s++)e.point.set(t+o,r+s)})),e.shape("circle",(function(e,t,r,n,a){null==a&&(t+=n,r+=n);for(var i=-n;i<n;i++)for(var o=Math.round(Math.sqrt(n*n-i*i)),s=-o;s<o;s++)e.point.set(t+i,r+s)})),e.shape("line",(function(e,t,r,n,a){var i,o=Math.sqrt((n-t)*(n-t)+(a-r)*(a-r)),s=(n-t)/o,u=(a-r)/o,c=0,l=0;for(i=0;i<o;i++)c=t+s*i,l=r+u*i,e.point.set(c,l)})),e.shape("colorLine",(function(e,t,r,n,a,i,o,s){var u,c,l,d,f,h=Math.sqrt((n-t)*(n-t)+(a-r)*(a-r)),p=(n-t)/h,y=(a-r)/h,g=0,m=0,b=i.length;for(o=o||1,d=0;d<h;d++)for(g=t+p*d,m=r+y*d,u=d/h,c=parseInt(b*u),e.point.rgba=i[c],s&&(f=255*Math.sin(u*e.calc.pi),e.point.rgba[3]=f),l=1;l<=o;l++)e.point.set(g,m+l)})),e.shape("sphere",(function(e,t,r,n,a,i,o){var s,u,c,l,d;for(null==a&&(t+=n,r+=n),l=-n;l<n;l++)for(d=-(c=parseInt(Math.sqrt(n*n-l*l),10));d<c;d++)(s=Math.min(255,Math.max(0,255-255*Math.sqrt(d*d+l*l)/(n/2)))/255)>0&&(u=o?255*s:i[3],e.point.rgba=[i[0]*s,i[1]*s,i[2]*s,u],e.point.set(t+l,r+d))})),e.shape("pyramid",(function(e,t,r,n,a,i,o,s){var u,c,l,d,f=parseInt(n/2,10),h=parseInt(a/2,10);for(1!=i&&(t+=f,r+=h),l=-f;l<f;l++)for(d=-h;d<h;d++)(u=255*(.25-Math.abs(l/n))+255*(.25-Math.abs(d/a)))>1&&(c=s?u:o[3],e.point.rgba=[o[0]/255*u,o[1]/255*u,o[2]/255*u,c],e.point.set(t+l,r+d))}))}},9136:e=>{e.exports=function(e){e.effect("test-pattern",{},(function(e,t){var r,n=e.texture.width,a=e.texture.height;return e.point.blend="opacity",e.texture.clear(),e.point.rgba=[255,255,155,255],e.shape.rect(e,1,1,n-2,a-2),r=20,e.point.rgba=[0,150,0,153],e.shape.rect(e,2,2,r,r),e.shape.rect(e,n-r-2,2,r,r),e.shape.rect(e,2,a-2-r,r,r),e.shape.rect(e,n-2-r,a-2-r,r,r),e.point.rgba=[20,20,10,51],e.shape.rect(e,n/2,a/2,178,178,!0),e.point.rgba=[10,20,210,178],e.shape.rect(e,n-5,a-5,10,10),r=20,e.point.rgba=[10,10,210,250],e.shape.line(e,r,r,n-r,a-r),e.shape.line(e,n-r,r,r,a-r),e.shape.line(e,0,a/2,n,a/2),e.shape.line(e,n/2,0,n/2,a),e.point.rgba=[255,55,55,128],e.shape.rect(e,10,10,n-20,a-20),e.point.rgba=[0,0,255,76],e.shape.rect(e,n-2,a-2,4,4),e.point.rgba=[255,255,255,255],e.point.set(0,0),e.point.set(n-1,0),e.point.set(0,a-1),e.point.set(n-1,a-1),e.point.rgba=[25,25,0,51],e.shape.circle(e,n/4,a/4,n/4,!0),e.point.rgba=[255,255,0,25],e.shape.circle(e,n,a,n,!0),e.shape.sphere(e,n/4,a-a/4,n/2,!0,[255,0,0,0],!0),e.shape.sphere(e,n/2,a-a/4,n/2,!0,[0,255,0,0],!0),e.shape.sphere(e,n-n/4,a-a/4,n/2,!0,[255,255,255,0],!0),e.shape.pyramid(e,n-n/4,a/4,n/2,a/2,!0,[0,0,0,255],!0),e.do("brightness",{adjust:50}),e.do("vibrance",{adjust:100}),e.do("contrast",{adjust:20}),t})),e.effect("test-all",{},(function(e,t){var r;e.normalize="limitless";var n=0,a=["test-all","test-pattern","copy","merge","mergeall"];for(var i in e.effects)r=e.effects[i],a.indexOf(r)<0&&(e.do(r),e.layers[n++]=e.texture.export());return t}))}}},t={};(function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports})(9691)})();